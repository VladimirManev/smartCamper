# –ú–æ–∏ –±–µ–ª–µ–∂–∫–∏ - SmartCamper üöê

## üéØ –ö–∞–∫–≤–æ –ø—Ä–∞–≤–∏–º

–°–∏—Å—Ç–µ–º–∞ –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –µ–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∞—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ –Ω–∞ –∫–µ–º–ø–µ—Ä–∞. –¢—Ä–∏ —á–∞—Å—Ç–∏: –º–æ–∑—ä–∫ (Raspberry Pi), —Å–µ–Ω–∑–æ—Ä–∏ (ESP32), dashboard (React).

## ‚úÖ –ù–∞–ø—Ä–∞–≤–∏—Ö–º–µ –¥–Ω–µ—Å

### Backend (Express.js)
- ‚úÖ –ú–æ–¥—É–ª–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ - middleware, routes, socket –≤ –æ—Ç–¥–µ–ª–Ω–∏ –ø–∞–ø–∫–∏
- ‚úÖ Socket.io –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∑–∞ real-time –∫–æ–º—É–Ω–∏–∫–∞—Ü–∏—è
- ‚úÖ –ì–ª–∞–≤–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∏ health check endpoint
- ‚úÖ 404 –æ–±—Ä–∞–±–æ—Ç–∫–∞
- ‚úÖ –õ–æ–≥–≤–∞–Ω–µ –Ω–∞ –∑–∞—è–≤–∫–∏
- ‚úÖ CORS middleware –∑–∞ development

### Frontend (React + Vite)
- ‚úÖ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å Vite
- ‚úÖ WebSocket –∫–æ–º—É–Ω–∏–∫–∞—Ü–∏—è —Å backend
- ‚úÖ Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞ —Å–µ–Ω–∑–æ—Ä–Ω–∏ –¥–∞–Ω–Ω–∏
- ‚úÖ useState –∏ useEffect hooks
- ‚úÖ –ü–æ–∫–∞–∑–≤–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∏ –≤–ª–∞–∂–Ω–æ—Å—Ç
- ‚úÖ –°—Ç–∞—Ç—É—Å –Ω–∞ –≤—Ä—ä–∑–∫–∞—Ç–∞ (–û–Ω–ª–∞–π–Ω/–û—Ñ–ª–∞–π–Ω)

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- ‚úÖ Backend –∫–∞—Ç–æ Gateway (ESP32 ‚Üî Backend ‚Üî Frontend)
- ‚úÖ WebSocket –∑–∞ real-time –¥–∞–Ω–Ω–∏
- ‚úÖ HTTP fetch –∑–∞ –±—ä–¥–µ—â–∞ –∏—Å—Ç–æ—Ä–∏—è (–≥—Ä–∞—Ñ–∏–∫–∏)
- ‚úÖ –ú–æ–¥—É–ª–µ–Ω –∏ —á–∏—Å—Ç –∫–æ–¥ (senior dev —Å—Ç–∏–ª)

## üîß –ö–∞–∫–≤–æ —Ä–∞–±–æ—Ç–∏

**Backend (–ø–æ—Ä—Ç 3000):**
- `http://localhost:3000` - –≥–ª–∞–≤–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- `http://localhost:3000/health` - health check
- `ws://localhost:3000` - WebSocket —Å—ä—Ä–≤—ä—Ä

**Frontend (–ø–æ—Ä—Ç 5173):**
- `http://localhost:5173` - React dashboard
- Real-time —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (–ø—Ä–æ–º–µ–Ω—è —Å–µ –Ω–∞ –≤—Å–µ–∫–∏ 3 —Å–µ–∫)
- WebSocket connection status

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
smartCamper/
‚îú‚îÄ‚îÄ backend/              # Express —Å—ä—Ä–≤—ä—Ä + Socket.io
‚îÇ   ‚îú‚îÄ‚îÄ server.js        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ middleware/      # CORS, Logger
‚îÇ   ‚îú‚îÄ‚îÄ routes/          # HTTP routes
‚îÇ   ‚îî‚îÄ‚îÄ socket/          # WebSocket –ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ frontend/            # React + Vite
‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ       ‚îú‚îÄ‚îÄ App.jsx     # –ì–ª–∞–≤–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ       ‚îî‚îÄ‚îÄ App.css     # –°—Ç–∏–ª–æ–≤–µ
‚îú‚îÄ‚îÄ esp32-modules/       # ESP32 –∫–æ–¥ (–±—ä–¥–µ—â–æ)
‚îú‚îÄ‚îÄ PROJECT_LOG.md       # –î–µ—Ç–∞–π–ª–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ MY_NOTES.md         # –¢–æ–∑–∏ —Ñ–∞–π–ª
```

## üöÄ –°–ª–µ–¥–≤–∞—â–æ

- MQTT broker –≤ backend
- ESP32 –º–æ–¥—É–ª–∏ –∑–∞ —Ä–µ–∞–ª–Ω–∏ —Å–µ–Ω–∑–æ—Ä–∏
- –ë–∞–∑–∞ –¥–∞–Ω–Ω–∏ –∑–∞ –∏—Å—Ç–æ—Ä–∏—è
- –ì—Ä–∞—Ñ–∏–∫–∏ –∑–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏ –¥–∞–Ω–Ω–∏
- –ö–æ–Ω—Ç—Ä–æ–ª –Ω–∞ —Ä–µ–ª–µ—Ç–∞/–∫–æ–Ω—Å—É–º–∞—Ç–æ—Ä–∏

## üí° –ü–æ–ª–µ–∑–Ω–æ

```bash
# Backend
cd backend
npm start                    # –°—Ç–∞—Ä—Ç–∏—Ä–∞ —Å—ä—Ä–≤—ä—Ä–∞ –Ω–∞ :3000

# Frontend
cd frontend
npm run dev                  # –°—Ç–∞—Ä—Ç–∏—Ä–∞ Vite dev server –Ω–∞ :5173

# –£–±–∏–π –ø—Ä–æ—Ü–µ—Å –Ω–∞ –ø–æ—Ä—Ç
lsof -ti:3000 | xargs kill -9
```

## üìö –ö–ª—é—á–æ–≤–∏ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

**React:**
- `useState` - state management
- `useEffect` - side effects (WebSocket connection)
- `cleanup function` - disconnect –ø—Ä–∏ unmount

**Socket.io:**
- `io.on("connection")` - backend —Å–ª—É—à–∞
- `socket.emit()` - backend –∏–∑–ø—Ä–∞—â–∞
- `socket.on()` - frontend —Å–ª—É—à–∞

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
- WebSocket –∑–∞ real-time –¥–∞–Ω–Ω–∏ ‚úÖ
- HTTP –¥–ª—è –∏—Å—Ç–æ—Ä–∏—è/–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ‚úÖ
- Backend –∫–∞—Ç–æ Gateway ‚úÖ
- –ú–æ–¥—É–ª–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚úÖ

## üéØ –í–∞–∂–Ω–∏ —Ä–µ—à–µ–Ω–∏—è

1. **–ù–ò–ö–û–ì–ê –¥–∏—Ä–µ–∫—Ç–Ω–∞ –∫–æ–º—É–Ω–∏–∫–∞—Ü–∏—è Frontend ‚Üî ESP32**
   - –í–∏–Ω–∞–≥–∏ –ø—Ä–µ–∑ Backend –∫–∞—Ç–æ Gateway
   - Backend –≤–∞–ª–∏–¥–∏—Ä–∞, —Ñ–∏–ª—Ç—Ä–∏—Ä–∞, –¥–æ–±–∞–≤—è –ª–æ–≥–∏–∫–∞

2. **WebSocket –∑–∞ real-time, HTTP –∑–∞ –∏—Å—Ç–æ—Ä–∏—è**
   - Socket.io –∑–∞ live —Å–µ–Ω–∑–æ—Ä–Ω–∏ –¥–∞–Ω–Ω–∏
   - fetch() –∑–∞ –∏—Å—Ç–æ—Ä–∏—è –æ—Ç –±–∞–∑–∞ –¥–∞–Ω–Ω–∏

3. **–ú–æ–¥—É–ª–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**
   - –í—Å–µ–∫–∏ —Ñ–∞–π–ª –∏–º–∞ –ï–î–ù–ê –æ—Ç–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç
   - –õ–µ—Å–Ω–æ —Ç–µ—Å—Ç–≤–∞–Ω–µ –∏ –ø–æ–¥–¥—Ä—ä–∂–∫–∞

4. **–ü—Ä–æ—Å—Ç–æ—Ç–∞**
   - –ß–∏—Å—Ç –∏ –ø—Ä–æ—Å—Ç –∫–æ–¥
   - –ë–µ–∑ –∏–∑–ª–∏—à–Ω–∏ —É—Å–ª–æ–∂–Ω–µ–Ω–∏—è

---

_–ü–æ—Å–ª–µ–¥–Ω–æ –æ–±–Ω–æ–≤—è–≤–∞–Ω–µ: 2025-10-01_
_–°—Ç–∞—Ç—É—Å: Backend + Frontend –æ—Å–Ω–æ–≤–∞ –≥–æ—Ç–æ–≤–∞ ‚úÖ_
